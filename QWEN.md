## Qwen Added Memories
- 用戶要求我使用繁體中文與其溝通，無論用戶使用何種語言，並希望將此請求記錄在 QWEN.md 中。

# Speckit 工具設定與規則

## 工具概述

Speckit 是一個規範驅動開發（Spec-Driven Development）的工作流程工具集，用於協助開發者從功能描述到實現的完整過程。它通過一系列命令來組織和管理開發流程，確保每個功能都有清晰的規範、計劃和任務分解。

### 工具功能概覽

1. **speckit.specify** - 創建或更新功能規範
   - 從自然語言描述生成功能規範
   - 自動創建功能分支和規範文件

2. **speckit.clarify** - 澄清規範中的模糊部分
   - 識別規範中未明確說明的領域
   - 提出精確的問題並記錄答案

3. **speckit.plan** - 生成實施計劃
   - 基於規範生成技術計劃
   - 包含技術上下文、項目結構等

4. **speckit.tasks** - 生成任務列表
   - 基於設計文檔生成可執行的任務
   - 按用戶故事組織，支持並行執行

5. **speckit.checklist** - 生成自定義清單
   - 基於用戶需求生成檢查清單
   - 用於測試需求撰寫品質

6. **speckit.analyze** - 分析規範品質
   - 檢查規範、計劃和任務之間的一致性
   - 識別重複、歧義和不足之處

7. **speckit.implement** - 執行實施計劃
   - 處理和執行 tasks.md 中定義的所有任務

8. **speckit.constitution** - 管理項目憲法
   - 維護項目核心原則和治理規則

## 詳細設定和規則

### 1. speckit.specify 設定和規則

#### 核心功能
- 從自然語言描述創建功能規範
- 自動生成分支號碼和短名稱
- 檢查現有分支以確保唯一性

#### 規則和流程
- 生成 2-4 個詞的簡短名稱，使用動詞-名詞格式
- 自動檢查遠程和本地分支，找到最高的功能號碼
- 使用 N+1 作為新分支號碼
- 最多使用 3 個 [NEEDS CLARIFICATION] 標記
- 生成的規範必須包含優先級用戶故事
- 每個用戶故事都必須獨立可測試

#### 模板結構
生成的規範包含以下部分：
- 用戶場景和測試（強制）
- 功能需求（強制）
- 成功標準（強制）
- 邊界案例
- 關鍵實體（如果涉及數據）

### 2. speckit.clarify 設定和規則

#### 核心功能
- 識別規範中的模糊領域
- 最多提出 5 個精確的澄清問題
- 將答案直接記錄到規範中

#### 規則和流程
- 問題必須可以通過多選或短答案回答
- 每次只提出一個問題
- 答案必須對架構、數據建模或任務分解產生實質影響
- 最多詢問 5 個問題
- 提供推薦選項和理由

#### 澄清範疇
- 功能範圍和行為
- 領域和數據模型
- 交互和 UX 流程
- 非功能性品質屬性
- 集成和外部依賴
- 邊界案例和故障處理

### 3. speckit.plan 設定和規則

#### 核心功能
- 執行實施計劃工作流程
- 生成設計文檔
- 包含技術上下文、項目結構等

#### 流程階段
- **第 0 階段**：大綱和研究
  - 解析技術上下文中的未知項
  - 生成 research.md
- **第 1 階段**：設計和合約
  - 生成 data-model.md
  - 生成 contracts/ 目錄
  - 更新代理上下文

#### 技術上下文
包含以下元素：
- 使用語言/版本
- 主要依賴
- 存儲方案
- 測試框架
- 目標平台
- 性能目標
- 制約條件

### 4. speckit.tasks 設定和規則

#### 核心功能
- 基於設計文檔生成可操作的任務
- 依賴順序排列
- 按用戶故事組織

#### 任務格式
嚴格遵循格式：`- [ ] [TaskID] [P?] [Story?] 描述與檔案路徑`

- **Task ID**：連號（T001, T002, T003...）
- **[P] 標記**：可在平行處理的任務
- **[Story] 標籤**：屬於用戶故事的任務 [US1], [US2] 等

#### 階段結構
- **第 1 階段**：設置（專案初始化）
- **第 2 階段**：基礎（阻塞所有用戶故事的先決條件）
- **第 3+ 階段**：用戶故事（按優先級順序）
- **最終階段**：完善與跨領域關注點

### 5. speckit.checklist 設定和規則

#### 核心功能
- 生成自定義清單用於驗證需求品質
- 清單被稱為「英語的單元測試」

#### 設計原則
- 清單項目測試需求本身，而非實現
- 評估需求的完整性、清晰度、一致性、可測量性和覆蓋範圍
- 每個項目都應包含可追溯性參考

#### 質量維度
- 需求完整性
- 需求清晰度
- 需求一致性
- 驗收標準品質
- 場景覆蓋
- 邊界案例覆蓋
- 非功能性需求
- 依賴和假設

### 6. speckit.analyze 設定和規則

#### 核心功能
- 分析規範、計劃和任務之間的一致性
- 只讀分析，不修改任何文件

#### 檢測範疇
- **重複檢測**：識別近似重複的需求
- **歧義檢測**：標記缺乏可測量標準的模糊形容詞
- **不足檢測**：標記缺失對象或可測量結果的需求
- **憲法對齊**：識別與憲法原則衝突的元素
- **覆蓋缺口**：識別沒有相關任務的需求
- **不一致性**：標記跨文件的術語漂移

#### 嚴重度分級
- **CRITICAL**：違反憲法 MUST、缺少核心規範文件或零覆蓋的關鍵需求
- **HIGH**：重複或衝突需求、模糊的安全/性能屬性
- **MEDIUM**：術語漂移、缺失的非功能任務覆蓋
- **LOW**：風格/文字改進

### 7. speckit.implement 設定和規則

#### 核心功能
- 執行實施計劃
- 處理和執行 tasks.md 中定義的所有任務

#### 檢查清單狀態
- 在執行前檢查所有清單完成狀態
- 如果有未完成的清單，詢問用戶是否繼續

#### 執行原則
- 階段式執行：先完成每階段，再移至下一階段
- 尊重依賴關係：順序執行而非平行
- 遵循 TDD 方法：先執行測試任務
- 驗證檢查點：每個階段完成後驗證

### 8. speckit.constitution 設定和規則

#### 核心功能
- 管理專案憲法
- 更新模板以保持同步

#### 憲法內容
- 核心原則（最多 5 個）
- 額外約束或安全要求
- 開發工作流程
- 治理規則

#### 版本控制
- 主要版本：向後不相容的治理/原則移除或重新定義
- 次要版本：新增原則或大幅擴展指導
- 修補版本：澄清、文字、錯字修正

## 通用工作流程

Speckit 遵循以下典型工作流程：
1. `/speckit.specify` - 創建功能規範
2. `/speckit.clarify` - 澄清模糊點
3. `/speckit.plan` - 生成實施計劃
4. `/speckit.tasks` - 生成任務列表
5. `/speckit.checklist` - 創建品質檢查清單
6. `/speckit.analyze` - 分析一致性
7. `/speckit.implement` - 執行實施

## 專案結構

Speckit 專案包含以下目錄：
- `.specify/memory` - 憲法文件
- `.specify/scripts` - PowerShell 腳本
- `.specify/templates` - 模板文件
- `.gemini/commands` - Gemini 特定命令配置
- `.qwen/commands` - Qwen 特定命令配置

這些設定和規則確保了規範驅動開發的一致性和品質。
